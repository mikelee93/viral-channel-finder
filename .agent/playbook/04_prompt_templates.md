# AI 프롬프트 템플릿

## 원칙: 짧고 명확하게 (레스모아)

### Prompt 1: 타이딩 후보 제안

```
당신은 코드 품질 개선 전문가입니다.

**입력:**
- 파일: {fileName}
- 라인 수: {totalLines}
- 최근 수정 날짜: {lastModified}

**파일 내용:**
```{language}
{fileContent}
```

**요청사항:**
1. 이 파일에서 안전하게 개선할 수 있는 타이딩 3가지를 제안해주세요
2. 각 제안마다 다음을 포함:
   - 제목 (한 줄)
   - 현재 문제점
   - 개선 방법
   - 위험도 (Low/Medium/High)
   - 예상 소요 시간 (분)

**제약사항:**
- 로직 변경하는 제안 금지
- 한 번에 하나만 바꿀 수 있는 것만
- 되돌리기 쉬운 것만

**출력 형식 (JSON):**
{
  "suggestions": [
    {
      "title": "...",
      "problem": "...",
      "solution": "...",
      "risk": "Low",
      "estimatedMinutes": 10,
      "category": "naming|structure|format"
    }
  ]
}

**모르는 것이 있으면 먼저 질문하세요.**
```

### Prompt 2: 서비스 레이어 설계

```
당신은 Clean Architecture 전문가입니다.

**기능 요구사항:**
{featureDescription}

**현재 코드베이스:**
- 언어: Node.js + Express
- 패턴: 서비스 레이어 분리
- 의존성: {dependencies}

**요청사항:**
이 기능을 구현할 서비스 파일 구조를 설계해주세요.

**설계 원칙:**
1. 한 파일은 한 가지 책임만
2. 함수는 50줄 이하
3. 의존성 주입 가능하게
4. 테스트 가능하게

**출력:**
1. 파일 구조 (tree 형식)
2. 각 파일의 역할 (한 문장)
3. 주요 함수 시그니처
4. 데이터 흐름도 (간단하게)

**궁금한 점:**
- 외부 API 호출이 있나요?
- 에러 처리 전략은?
- 병렬 처리가 필요한가요?
```

### Prompt 3: 코드 리뷰

```
당신은 시니어 개발자입니다.

**리뷰 대상:**
```{language}
{codeToReview}
```

**리뷰 관점:**
1. ✅ 좋은 점 (칭찬할 부분)
2. ⚠️ 개선 필요 (버그는 아니지만)
3. 🐛 잠재적 버그
4. 💡 더 나은 패턴 제안

**제약:**
- 비판만 하지 말고 대안도 제시
- 니트픽은 최소화
- 중요한 것 3가지만

**출력 형식:**
각 카테고리별로 항목 나열, 구체적 코드 예시 포함
```

### Prompt 4: 에러 처리 개선

```
**현재 에러 처리 코드:**
```javascript  
{currentErrorHandling}
```

**개선 요청:**
이 에러 처리를 사용자 친화적이고 디버깅 가능하게 개선해주세요.

**요구사항:**
1. 사용자에게는 이해하기 쉬운 메시지
2. 개발자에게는 디버깅 가능한 정보
3. 로깅 포함
4. 에러 타입별 분기

**출력:**
- 개선된 코드
- 새로 추가할 커스텀 에러 클래스
- 사용 예시
```

### Prompt 5: API 응답 구조 통일

```
**현재 API 응답들:**
```javascript
{currentAPIResponses}
```

**문제:**
응답 구조가 제각각이라 클라이언트에서 처리가 어려움

**요청:**
1. 통일된 응답 포맷 제안
2. 성공/실패 케이스 모두 커버
3. TypeScript 인터페이스 (선택)
4. 마이그레이션 가이드

**고려사항:**
- REST API 베스트 프랙티스
- 에러 정보 포함
- 페이지네이션 (필요시)
```

## 프롬프트 사용 가이드

### 1. 컨텍스트는 최소한으로
❌ 나쁜 예: 전체 파일 5000줄 던지기
✅ 좋은 예: 문제 있는 함수 100줄만

### 2. 원하는 출력 형식 명시
- JSON, Markdown, Code 등 명확히
- 예시 제공하면 더 좋음

### 3. 제약사항 명확히
- "로직 변경 금지"
- "테스트 가능해야 함"
- "한 파일 300줄 이하"

### 4. 되묻기 유도
항상 마지막에:
> "모르는 것이 있으면 먼저 질문하세요"
> "필요한 추가 정보가 있나요?"

## 프롬프트 체인 (연속 실행)

### 시나리오: 새 기능 추가

1. **설계 프롬프트** → 파일 구조 제안
2. **구현 프롬프트** → 각 파일별 코드
3. **리뷰 프롬프트** → 생성된 코드 검토
4. **통합 프롬프트** → 기존 코드와 통합 가이드

### 시나리오: 레거시 개선

1. **분석 프롬프트** → 문제점 파악
2. **우선순위 프롬프트** → 개선 순서 제안
3. **타이딩 프롬프트** → 안전한 개선안
4. **검증 프롬프트** → 변경 전후 비교

## 실전 팁

### Tip 1: 파일이 너무 크면
```
이 파일은 {totalLines}줄로 너무 큽니다.

먼저 논리적으로 나눌 수 있는 단위를 파악하고,
각 단위별로 별도 파일로 분리하는 계획을 세워주세요.

단, 한 번에 전체를 분리하지 말고,
첫 단계로 가장 독립적인 부분 1개만 분리하는 방법을 제시하세요.
```

### Tip 2: 불확실할 때
```
이 코드의 의도를 정확히 모르겠어요.

다음 정보를 바탕으로 추측해주시고,
확신이 없으면 "추측"이라고 명시해주세요:
- {availableContext}

그리고 확신하기 위해 필요한 질문을 3가지 해주세요.
```

### Tip 3: 트레이드오프 있을 때
```
이 개선안의 장단점을 비교해주세요:

**옵션 A**: {option A}
**옵션 B**: {option B}

각 옵션의:
1. 장점
2. 단점  
3. 적합한 상황
4. 당신의 추천 (이유 포함)
```

## 프롬프트 개선 피드백 루프

### 사용 후 기록
```markdown
## Prompt: {promptName}
- 사용 날짜: 2026-01-15
- 입력: {summary}
- 출력 품질: ⭐⭐⭐⭐☆
- 개선 필요: 예시를 더 구체적으로
- 다음 버전: {improvements}
```

### 월간 회고
- 가장 많이 쓴 프롬프트 Top 3
- 품질 만족도 평균
- 개선 사항 통합

---

**핵심:**
> 긴 프롬프트가 아니라, 
> 맥락이 명확한 짧은 프롬프트가 최고!
